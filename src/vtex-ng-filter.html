<div class="filters-block">
  <h3>
    {{ 'listing.filters' | translate }} 
    <button translate class="btn btn-small btn-clean-filters" ng-if="activeFilters.list.length > 0" ng-click="clearAllFilters()">listing.clearAll</button>
  </h3>

  <div ng-repeat="(name, group) in groups">
    <h3 class="group-header">
      <i class="fa" ng-class="{ 'fa-credit-card': name === 'paymentCondition',
                                 'fa-calendar-o': name === 'date', 
                                   'fa-exchange': name === 'channel',
                                    'fa-refresh': name === 'status', }"></i>
      {{ ('filters.groups.' + name) | translate }}
    </h3>

    <accordion close-others="true">
      <accordion-group ng-repeat="filter in group" ng-if="filter.options.length">
        
        <accordion-heading>
          {{ 'filters.' + filter.name | translate }}
          <span class="label label-info pull-right" ng-if="filter.active"><i class="fa fa-dot-circle-o"></i></span>
        </accordion-heading>

        <ul class="filter-list nav nav-pills nav-stacked">
          <li ng-repeat="option in filter.options">
            <div ng-class="{'disabled': !option.quantity, 'checkbox': filter.type == 'multiple', 'radio': filter.type == 'date'}">
              <label>

                <input ng-disabled="!option.quantity" name="{{ ::filter.url }}" ng-change="updateQueryString()" ng-model="option.active" type="checkbox" ng-if="filter.type == 'multiple'" ng-checked="option.active">
                
                <input ng-disabled="!option.quantity" name="{{ ::filter.url }}" ng-change="updateQueryString()" ng-value="::option.name" ng-model="option.active" type="radio" ng-if="filter.type == 'date'">

                {{ ::option.name | translate }} <span class="text-muted">({{ ::option.quantity }})</span></span>
              </label>
            </div>
          </li>
        </ul>

        <button translate class="btn"
                ng-click="filter.clearSelection()"
                ng-show="filter.type === 'single' && filter.selectedItem">search.clear</button>

      </accordion-group>
    </accordion>
  </div>
</div>